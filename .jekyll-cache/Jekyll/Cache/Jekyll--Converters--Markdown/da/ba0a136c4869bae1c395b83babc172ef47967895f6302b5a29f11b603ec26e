I"u<h3 id="3d-touch-说明及效果图">3D Touch 说明及效果图</h3>
<p><strong>3D Touch 只支持 iOS9.0及以上系统、iPhone6s及以上机型</strong>
<img src="/img/in-post/3DTouch/3DTouchDemo.jpeg" alt="" /></p>

<hr />

<h3 id="构建3d-touch-图标">构建3D Touch 图标</h3>

<h4 id="1定义图标-uiapplicationshortcuticon">1、定义图标 (UIApplicationShortcutIcon)</h4>

<ul>
  <li>自定义图标icon
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>  UIApplicationShortcutIcon *icon1 = [UIApplicationShortcutIcon iconWithTemplateImageName:@"image"];
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>采用系统图标icon（<code class="language-plaintext highlighter-rouge">UIApplicationShortcutIconType</code>枚举类）
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>  UIApplicationShortcutIcon *icon2 = [UIApplicationShortcutIcon iconWithType:UIApplicationShortcutIconTypeMessage];
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
</ul>

<h4 id="2添加图标类型标题副标题等">2、添加图标类型、标题、副标题等</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre>/**
 type 该item 唯一标识符
 localizedTitle ：标题
 localizedSubtitle：副标题（可选）
 icon：icon图标 可以使用系统类型 也可以使用自定义的图片
 userInfo：可选项的附加信息，自定义参数字典传参(可选)
 */
UIApplicationShortcutItem *item = [[UIApplicationShortcutItem alloc]initWithType:@"message"
                                                                    localizedTitle:@"title"
                                                                    localizedSubtitle:@"subTitle"
                                                                    icon:icon1
                                                                    userInfo:nil];
</pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="3添加到-shortcutitems-中去">3、添加到 shortcutItems 中去</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>UIApplication *application = [UIApplication sharedApplication];
application.shortcutItems = @[item, item2, ...];
</pre></td></tr></tbody></table></code></pre></div></div>

<hr />

<h3 id="捕获3d-touch-点击功能">捕获3D Touch 点击功能</h3>
<p>从3D Touch点击进入项目，都有一个方法进行统一处理，处理的标识就是之前的type。</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre>- (void)application:(UIApplication *)application
      performActionForShortcutItem:(UIApplicationShortcutItem *)shortcutItem
      completionHandler:(void(^)(BOOL succeeded))completionHandler
{
    if ([shortcutItem.type isEqualToString:@"store"])
    {
        //视图跳转
    }
}
</pre></td></tr></tbody></table></code></pre></div></div>

<hr />

<h3 id="附录">附录</h3>
<p>1、系统提供图标样式（UIApplicationShortcutIconType）</p>

<p><img src="/img/in-post/3DTouch/UIApplicationShortcutIconType.jpeg" alt="" /></p>
:ET